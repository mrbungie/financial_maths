# Basic Notions

## Introduction

Financial mathematics is fundamentally about tracking **money flows over time**. Before diving into complex formulas, we need to establish a clear language for describing when money moves, in which direction, and how much.

## Cashflows: The Building Blocks

::: {.callout-note icon="true"}
## Definition: Cashflow

A **cashflow** is a payment or receipt of money at a specific point in time. It has three essential components:

1.  **Amount** (how much?)
2.  **Time** (when?)
3.  **Direction** (in or out?)
:::

### The Sign Convention

Understanding which direction is positive is crucial:

| Type        | Description                                | Sign             | Color Code                     |
|---------------|----------------------|---------------|--------------------|
| **Inflow**  | Money received (income, loan disbursement) | **+** (positive) | [●]{style="color:green"} Green |
| **Outflow** | Money paid (expense, loan repayment)       | **−** (negative) | [●]{style="color:red"} Red     |

::: {.callout-tip icon="true"}
## Intuition: Investor vs. Borrower Perspective

The same transaction looks opposite from different viewpoints:

-   **Investor perspective**: Loan disbursement = −100 (money out), Repayment = +110 (money in)
-   **Borrower perspective**: Loan received = +100 (money in), Repayment = −110 (money out)

*Always establish whose perspective you're taking!*
:::

## Cashflow Representations

We can represent cashflows in multiple equivalent ways. Let's use a simple example: borrowing \$1,000 today and repaying \$1,100 in one year.

### 1. Cashflow Table (Borrower's View)

| Time (years) | Cashflow (\$) | Type    | Description   |
|--------------|---------------|---------|---------------|
| 0            | +1,000        | Inflow  | Loan received |
| 1            | −1,100        | Outflow | Repayment     |

### 2. Timeline Diagram

```{mermaid}
%%| fig-width: 8
%%| fig-height: 2
timeline
    title Loan Cashflows (Borrower Perspective)
    0 years : +$1,000 (Received)
    1 year  : -$1,100 (Repaid)
```

### 3. Visual Timeline with Arrows

```{=latex}
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.2]
% Time axis
\draw[thick,->] (0,0) -- (10,0) node[right] {Time};
\foreach \x/\label in {0/0, 5/0.5, 10/1}
    \draw (\x,0.1) -- (\x,-0.1) node[below] {\label\,yr};

% Cashflow at t=0 (upward = inflow)
\draw[->,green!60!black,very thick] (0,-1) -- (0,0.5);
\node[below,green!60!black] at (0,-1) {+\$1,000};
\node[above,green!60!black] at (0,0.7) {Inflow};

% Cashflow at t=1 (downward = outflow)
\draw[->,red!70!black,very thick] (10,0.5) -- (10,-1);
\node[above,red!70!black] at (10,0.7) {Outflow};
\node[below,red!70!black] at (10,-1) {−\$1,100};
\end{tikzpicture}
\end{figure}
```

::: {.callout-tip icon="true"}
## Reading Timeline Diagrams

-   **Horizontal axis**: Time progresses left to right
-   **Vertical arrows**:
    -   [↑ Upward (green)]{style="color:green"} = Money IN (positive)
    -   [↓ Downward (red)]{style="color:red"} = Money OUT (negative)
-   **Arrow position**: Where it touches the timeline indicates *when*
:::

## Multiple Cashflows: Loan Amortization Example

Let's see a more realistic scenario: a 3-year loan of \$10,000 with annual payments.

### Cashflow Table

| Time (years) | Payment | Interest | Principal | Outstanding Balance |
|--------------|---------|----------|-----------|---------------------|
| 0            | +10,000 | —        | —         | 10,000              |
| 1            | −3,500  | −500     | −3,000    | 7,000               |
| 2            | −3,650  | −350     | −3,300    | 3,700               |
| 3            | −3,885  | −185     | −3,700    | 0                   |

::: {.callout-note icon="true"}
## Understanding the Table

-   **Time 0**: Borrower receives the loan (+\$10,000 inflow)
-   **Each year**: Borrower makes a payment (outflow), which splits into:
    -   **Interest**: Cost of borrowing (compensation to lender)
    -   **Principal**: Reduction in the debt amount
-   **Outstanding Balance**: What remains to be paid
:::

### Timeline Representation

```{=latex}
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.0]
% Time axis
\draw[thick,->] (-0.5,0) -- (13,0) node[right] {Time};
\foreach \x/\label in {0/0, 4/1, 8/2, 12/3}
    \draw (\x,0.1) -- (\x,-0.1) node[below] {\label\,yr};

% Initial inflow at t=0
\draw[->,green!60!black,ultra thick] (0,-1.5) -- (0,0.5);
\node[below,green!60!black,font=\bfseries] at (0,-1.5) {+\$10,000};

% Outflows at t=1,2,3
\draw[->,red!70!black,very thick] (4,0.5) -- (4,-1);
\node[above,red!70!black] at (4,0.7) {−\$3,500};

\draw[->,red!70!black,very thick] (8,0.5) -- (8,-1);
\node[above,red!70!black] at (8,0.7) {−\$3,650};

\draw[->,red!70!black,very thick] (12,0.5) -- (12,-1);
\node[above,red!70!black] at (12,0.7) {−\$3,885};

% Labels
\node[green!60!black] at (0,-2.2) {Loan received};
\node[red!70!black,font=\small] at (8,-2.2) {Annual payments};
\end{tikzpicture}
\end{figure}
```

## Investment vs. Financing Cashflows

Two fundamental patterns emerge in financial mathematics:

### Investment Cashflow Pattern

**Typical structure**: Initial outflow, followed by inflows

```{mermaid}
%%| fig-width: 8
timeline
    title Investment Pattern
    t=0 : −$10,000 (Buy stock)
    t=1 : +$500 (Dividend)
    t=2 : +$500 (Dividend)
    t=3 : +$11,000 (Dividend + Sale)
```

**Examples**: - Buying stocks or bonds - Starting a business - Purchasing rental property

### Financing Cashflow Pattern

**Typical structure**: Initial inflow, followed by outflows

```{mermaid}
%%| fig-width: 8
timeline
    title Financing Pattern
    t=0 : +$10,000 (Loan received)
    t=1 : −$3,500 (Payment)
    t=2 : −$3,650 (Payment)
    t=3 : −$3,885 (Payment)
```

**Examples**: - Taking a loan - Issuing bonds (from issuer's perspective) - Credit card borrowing

::: {.callout-important icon="true"}
## Key Insight

**Investment** and **financing** are mirror images of each other!

-   An investor's outflow is the borrower's inflow
-   The lender's expected returns = the borrower's cost of capital
:::

## Time Conventions and Periods

### Time Measurement

::: {.callout-note icon="true"}
## Definition: Time Index

We typically denote time by $t$, measured in **years** unless otherwise specified.

-   $t = 0$: Today (present moment)
-   $t = 1$: One year from now
-   $t = 0.5$: Six months from now
-   $t = -1$: One year ago
:::

### Period vs. Point-in-Time

Be careful to distinguish:

-   **Point in time** (e.g., $t=2$): A specific moment
-   **Time period** (e.g., "year 2"): The interval from $t=1$ to $t=2$

**Interest earned in year 2** refers to the interval $[1, 2]$, but the **payment at time 2** refers to the instant $t=2$.

## Practical Example: Planning a Project

Let's apply these concepts to a realistic business scenario.

**Scenario**: You're evaluating a software project:

-   **Year 0**: Hire developers, invest \$200,000
-   **Year 1**: Beta launch, invest \$100,000 more
-   **Year 2**: First revenue \$150,000
-   **Year 3**: Mature revenue \$250,000

### Cashflow Table (Your Perspective as Investor)

| Time | Cashflow | Description          |
|------|----------|----------------------|
| 0    | −200,000 | Initial development  |
| 1    | −100,000 | Continued investment |
| 2    | +150,000 | First revenue        |
| 3    | +250,000 | Mature revenue       |

### Net Position Over Time

| Time | Cashflow | Cumulative Net |
|------|----------|----------------|
| 0    | −200,000 | −200,000       |
| 1    | −100,000 | −300,000       |
| 2    | +150,000 | −150,000       |
| 3    | +250,000 | +100,000       |

::: {.callout-tip icon="true"}
## Intuition: The Cumulative View

The **cumulative net** position shows when you "break even" and start being net positive. Here, you need to wait until after year 3 to have a positive net position (ignoring time value of money for now).
:::

## Summary

Before moving forward, make sure you understand:

✅ **Cashflows** have amount, timing, and direction\
✅ **Sign convention**: Positive = inflow, Negative = outflow\
✅ **Perspective matters**: Same transaction looks different to different parties\
✅ **Three representations**: Tables, timelines, and diagrams all show the same information\
✅ **Two patterns**: Investment (− then +) vs. Financing (+ then −)

::: {.callout-warning icon="true"}
## Common Pitfall

Don't mix perspectives! If you start from the borrower's viewpoint, stay consistent. Switching midway through a problem causes sign errors.
:::

------------------------------------------------------------------------

**Next**: In [Chapter 2: Bonds](bonds.qmd), we'll apply these cashflow concepts to understand bond pricing and accrued interest.