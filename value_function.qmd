# Value Function

## Introduction {#value-function-introduction}

Suppose we have a financial transaction on two dates. The fundamental idea is that two parties agree to exchange money at different points in time, creating an equivalence between amounts at different dates.

We can represent this transaction in several ways:

**Set notation:** $\{-S, S + I\} / \{0, 1\}$

**Timeline representation:**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.2]
% Timeline
\draw[->,thick] (-0.5,0) -- (8,0) node[right] {time};

% Time points
\draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
\draw[thick] (6,0.15) -- (6,-0.15) node[below] {$1$};

% Cash flows
\draw[->,red,thick] (0,0) -- (0,1.2);
\node[above,red] at (0,1.2) {$-S$};

\draw[->,blue,thick] (6,0) -- (6,1.2);
\node[above,blue] at (6,1.2) {$S+I$};

\end{tikzpicture}
\end{center}
```

**Tabular representation:**

| Time | Cash Flow |
|------|-----------|
| 0    | $-S$      |
| 1    | $S + I$   |

This means that, strictly speaking, the counterparts have agreed to consider the sum $S$ at time 0 **equivalent** to the sum $S + I$ at time 1.

<span id="concrete-example-a-simple-loan"></span>

::: {.callout-tip icon="true"}
## Concrete Example: A Simple Loan

Imagine you lend your friend **€1,000 today** (time 0), and they agree to pay you back **€1,050 in one year** (time 1). 

**Timeline visualization:**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.2]
% Timeline
\draw[->,thick] (-0.5,0) -- (9,0) node[right] {years};

% Time points
\draw[thick] (0,0.15) -- (0,-0.15);
\node[below] at (0,-0.3) {$0$};
\node[below,font=\small] at (0,-0.7) {(today)};

\draw[thick] (7,0.15) -- (7,-0.15);
\node[below] at (7,-0.3) {$1$};
\node[below,font=\small] at (7,-0.7) {(1 year later)};

% Cash flows
\draw[->,red,thick] (0,0) -- (0,-1.8);
\node[above right,red] at (0,0.2) {\texteuro 1,000};
\node[below,red,font=\small] at (0,-1.8) {You lend};

\draw[->,blue,thick] (7,0) -- (7,1.5);
\node[above,blue] at (7,1.5) {\texteuro 1,050};
\node[below,blue,font=\small] at (7,-1.8) {Friend pays back};

\end{tikzpicture}
\end{center}
```

**Tabular representation:**

| Time (years) | Cash Flow | Description |
|--------------|-----------|-------------|
| 0 (today)    | -€1,000   | You lend    |
| 1 (one year) | +€1,050   | Friend pays back |

This contract establishes that:

- €1,000 today = €1,050 in one year
- The interest is €50
- You both agree these two amounts are "equivalent" given the one-year time difference

This equivalence is **not a natural fact**—it's something you both agreed upon when signing the contract.
:::

::: {.callout-note icon="true"}
## Key Insight

Therefore, the financial contract implicitly states an **intertemporal equivalence law** between sums of money.
:::

We can record this law in the form of a function of time, defined at times 0 and 1 (the contract execution is possible only at those two dates).

This function of the schedule dates $V(t)$ is called the **value function**.

### Tabular Representation

The tabular representation of the function is:

| $t$ | $V(t)$ |
|-----|--------|
| 0   | $S$    |
| 1   | $S+I$  |

Using our concrete example:

| $t$ (years) | $V(t)$ (€) |
|-------------|------------|
| 0           | 1,000      |
| 1           | 1,050      |

::: {.callout-tip icon="true"}
## Intuition: What Does the Value Function Really Mean?

Think of the value function as a **"what's it worth?" tracker**:

- **At time 0**: The loan is worth €1,000 (what you just lent out)
- **At time 1**: The loan is worth €1,050 (what you'll receive, including interest)

The value function tells us the **monetary value** of the financial contract at each point in time. It's like tracking the "paper value" of an investment as time passes—even before any money actually changes hands!

**Key insight**: The value function is NOT the cash you physically hold. It's the **economic value** of your position in the contract at any given moment.
:::

<span id="understanding-interest-and-interest-rates"></span>

::: {.callout-note icon="true"}
## Understanding Interest and Interest Rates

Before diving into the value function, it's essential to understand the concepts of **interest** and **interest rates**. These foundational ideas explain why money has time value.

For a complete explanation including:

- What interest represents economically (compensation for waiting, price of time, opportunity cost)
- The difference between interest (absolute amount) and interest rate (relative percentage)
- Why interest exists (with zero-coupon bond examples)
- How to compare investments using rates

Please see the following sections in Basic Notions:

- [What Does Interest Represent?](basic_notions.qmd#sec-interest-meaning)
- [Interest vs. Interest Rate](basic_notions.qmd#sec-interest-vs-rate)
- [Cashflow Decomposition: Interest vs. Principal](basic_notions.qmd#cashflow-decomposition-interest-vs.-principal)

**Quick reminder**: Interest $I = F - P$ (difference between face value and price), and interest rate $i = I/P$ (relative return).
:::

## Extending to Multi-Period Transactions

Let's now extend this notion to multi-period financial transactions. So far, we've seen simple two-date scenarios. Real-world finance is more complex—loans can be extended, payments can be deferred, and multiple decision points can exist. The value function framework handles this elegantly.

Consider the following **composite transaction** where the borrower has flexibility:

- At time 0, an amount $S$ is invested by a financial institution
- At time 1, the debtor can decide to:
  
  1. **Pay the entire sum**, with interest $I$:
     
     ```{=latex}
     \begin{center}
     \begin{tikzpicture}[scale=1.0]
     \draw[->,thick] (-0.5,0) -- (7,0) node[right] {time};
     \draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
     \draw[thick] (5,0.15) -- (5,-0.15) node[below] {$1$};
     \draw[->,red,thick] (0,0) -- (0,-1);
     \node[above right,red] at (0,0.2) {$-S$};
     \draw[->,blue,thick] (5,0) -- (5,1);
     \node[above,blue] at (5,1) {$S+I$};
     \end{tikzpicture}
     \end{center}
     ```
     
  2. **Defer the principal reimbursement** for one year, paying an additional interest $I'$:
     
     ```{=latex}
     \begin{center}
     \begin{tikzpicture}[scale=1.0]
     \draw[->,thick] (-0.5,0) -- (10,0) node[right] {time};
     \draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
     \draw[thick] (8,0.15) -- (8,-0.15) node[below] {$2$};
     \draw[->,red,thick] (0,0) -- (0,-1);
     \node[above right,red] at (0,0.2) {$-S$};
     \draw[->,blue,thick] (8,0) -- (8,1);
     \node[above,blue] at (8,1) {$S+I+I'$};
     \end{tikzpicture}
     \end{center}
     ```

We have implicitly defined two value functions, one for each possible choice of the debtor.

::: {.callout-tip icon="true"}
## Concrete Example: A Flexible Student Loan

You take out a **€10,000 student loan** on graduation day. The lender offers you flexibility:

**Option 1**: Pay everything back in 1 year with **€500 interest**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.1]
\draw[->,thick] (-0.5,0) -- (8,0) node[right] {years};
\draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
\draw[thick] (6,0.15) -- (6,-0.15) node[below] {$1$};
\draw[->,red,thick] (0,0) -- (0,-1.2);
\node[above right,red] at (0,0.2) {\texteuro 10,000};
\draw[->,blue,thick] (6,0) -- (6,1.2);
\node[above,blue] at (6,1.2) {\texteuro 10,500};
\node[below,font=\small] at (3,-1.8) {Interest: \texteuro 500};
\end{tikzpicture}
\end{center}
```

**Option 2**: Defer payment for another year, but pay an **additional €600 interest**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.1]
\draw[->,thick] (-0.5,0) -- (10,0) node[right] {years};
\draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
\draw[thick] (8,0.15) -- (8,-0.15) node[below] {$2$};
\draw[->,red,thick] (0,0) -- (0,-1.2);
\node[above right,red] at (0,0.2) {\texteuro 10,000};
\draw[->,blue,thick] (8,0) -- (8,1.2);
\node[above,blue] at (8,1.2) {\texteuro 11,100};
\node[below,font=\small] at (4,-1.8) {Total Interest: \texteuro 1,100 (\texteuro 500 + \texteuro 600)};
\end{tikzpicture}
\end{center}
```

**Summary table:**

| Option | Time 0 | Time 1 | Time 2 | Total Interest |
|--------|--------|--------|--------|----------------|
| 1      | -€10,000 | +€10,500 | — | €500 |
| 2      | -€10,000 | — | +€11,100 | €1,100 |

This is a real-world example of a composite transaction where the debtor has **optionality**—the choice affects the timeline and the final amount!
:::

### Two Possible Value Functions

The tabular representations of the two value functions are:

**Option 1: Pay at time 1**

| $t$ | $V_1(t)$ |
|-----|----------|
| 0   | $S$      |
| 1   | $S+I$    |

**Option 2: Pay at time 2**

| $t$ | $V_2(t)$ |
|-----|----------|
| 0   | $S$      |
| 2   | $S+I+I'$ |

However, here's a key insight: we can see the second choice as a **composition** of two basic operations. The borrower essentially takes a one-year loan from time 0 to 1, then "rolls it over" for another year from time 1 to 2.

**Timeline of composed operations:**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.1]
% Timeline
\draw[->,thick] (-0.5,0) -- (11,0) node[right] {time};

% Time points
\draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
\draw[thick] (5,0.15) -- (5,-0.15) node[below] {$1$};
\draw[thick] (10,0.15) -- (10,-0.15) node[below] {$2$};

% Cash flows
\draw[->,red,thick] (0,0) -- (0,-1);
\node[above right,red] at (0,0.2) {$-S$};

\node[above,blue] at (5,1) {$S+I$};
\fill[blue] (5,0) circle (2pt);

\draw[->,green!60!black,thick] (10,0) -- (10,1);
\node[above,green!60!black] at (10,1) {$(S+I)+I'$};

% Operation labels
\draw[<->,thick,orange] (0,-1.8) -- (5,-1.8);
\node[below,orange,font=\small] at (2.5,-1.8) {Operation 1: $0 \to 1$};

\draw[<->,thick,orange] (5,-1.8) -- (10,-1.8);
\node[below,orange,font=\small] at (7.5,-1.8) {Operation 2: $1 \to 2$};

\end{tikzpicture}
\end{center}
```

Therefore, this contract involves **three different time periods**: this implicitly defines an intertemporal equivalence law $V(t)$ on three dates, whose representation is. **PLEASE NOTE THAT THESE ARE NOT CASHFLOWS, BUT EVALUATIONS OF THE VALUE FUNCTION AT EACH POSSIBLE TIME STEP (year).**:

| $t$ | $V_2(t)$ |
|-----|----------|
| 0   | $S$      |
| 1   | $S+I$    |
| 2   | $S+I+I'$ |

Using our student loan example, we can make a V(t) function:

| $t$ (years) | $V(t)$ (€) | Potential outcome / equivalence |
|-------------|------------|------------------|
| 0           | 10,000     | The loan / spot value (i.e. can also be interpreted as paying directly without a loan)   |
| 1           | 10,500     | Could pay here, or roll over |
| 2           | 11,100     | Final payment if deferred |

::: {.callout-important icon="true"}
## Key Observation

The composite transaction is not defined on a fixed time schedule. However, all potential outcomes have been examined and agreed upon at time 0. The function $V(t)$ **summarizes all such alternative outcomes**.
:::

::: {.callout-tip icon="true"}
## Intuition: The Value Function as a "Decision Tree Summary"

Think of the value function as a **snapshot of all possible futures** that were agreed upon upfront:

- At time 0, you and the lender sat down and agreed: "Here are all the possible scenarios"
- The value function $V(t)$ captures **every node in that decision tree**
- Even though you haven't decided yet (at time 0) whether to pay at year 1 or year 2, the value function already encodes both possibilities

This is powerful because:

1. **Flexibility is built in**: The contract allows for multiple paths
2. **Everything is pre-agreed**: No surprises—all terms are clear from day 1
3. **The value function is the "master map"**: It shows the value of your position at every possible decision point

**Real-world parallel**: It's like a mobile phone contract where you agree upfront on prices for 12-month vs 24-month commitments—the value at each point is predetermined, but you get to choose your path!
:::

## Basic Assumptions About the Value Function

For the value function to make economic sense, we impose two fundamental assumptions. These aren't arbitrary mathematical rules—they reflect deep economic principles about how money and time interact in real markets.

::: {.callout-note icon="true"}
## Assumption 1: Positive and Non-Negative Time

For simplicity, and without loss of generality, we assume that the value function is positive-valued and defined on positive times:

$$
V(t) > 0; \quad t \geq 0
$$
:::

::: {.callout-tip icon="true"}
## Intuition: Why Positive Values?

This assumption might seem obvious, but it's important:

- **Positive values**: We're tracking the value of an asset or investment, not a liability. If you're the lender, $V(t)$ represents "how much your loan is worth" (positive from your perspective)
- **Non-negative time**: We start measuring from "now" (time 0) and look forward. We don't deal with "negative time" (the past) because contracts are about the future!

**Example**: If you invest €1,000 today, at any future point $t$, that investment should be worth something positive (€1,000 + interest). It doesn't make sense for it to be worth -€500 unless you're modeling debt (which we'd handle differently).
:::

::: {.callout-note icon="true"}
## Assumption 2: Strictly Increasing

To incorporate the **time-value of money**, we assume that the value function is strictly increasing:

$$
t_1 < t_2 \Rightarrow V(t_1) < V(t_2)
$$

This captures the fundamental principle that **money today is worth more than money tomorrow**.
:::

::: {.callout-tip icon="true"}
## Intuition: Why Must Value Always Increase?

This is the **mathematical expression of "time value of money"**—one of the most fundamental concepts in finance!

**Why does value increase over time?**

1. **Opportunity cost**: Money today can be invested to earn returns
2. **Inflation**: Money loses purchasing power over time
3. **Risk and uncertainty**: Future payments are less certain than present ones
4. **Patience has value**: People prefer having money now rather than later (liquidity preference)

**Concrete example**:

- €1,000 today can be invested at 5% interest
- By next year, it grows to €1,050
- So €1,000 today is "equivalent" to €1,050 next year
- If time didn't add value, why would anyone lend money? There'd be no incentive!

**Key insight**: If $V(t)$ were constant or decreasing, it would mean **time has no value** or even **destroys value**—which contradicts the entire premise of interest and financial markets!

**Real-world check**: Have you ever heard someone say "I'll gladly pay you €100 today for the privilege of receiving €100 back in 5 years"? Of course not! That's because of this assumption.
:::

## Value Function and Cash Flows Are Different

::: {.callout-warning icon="true"}
## Critical Distinction

Please note that the **value function** of a financial transaction and its **cash flows** are two different concepts.
:::

This is one of the most important distinctions in financial mathematics. Many students confuse cash flows (the actual payments you make or receive) with the value function (the economic worth of your position). Let's see why they're different with a concrete example.

To see this with an example, let's go back to an investment/borrowing operation:

**Cash flow timeline:**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.0]
% Timeline
\draw[->,thick] (-0.5,0) -- (11,0) node[right] {quarters};

% Time points
\foreach \x/\label in {0/0, 3/1, 6/2, 9/3} {
    \draw[thick] (\x,0.15) -- (\x,-0.15) node[below] {$\label$};
}

% Cash flows
\draw[->,blue,thick] (0,0) -- (0,1.5);
\node[above,blue] at (0,1.5) {\texteuro 1,000};

\draw[->,red,thick] (3,0) -- (3,-1.2);
\node[below,red] at (3,-1.2) {\texteuro 380};

\draw[->,red,thick] (6,0) -- (6,-1.2);
\node[below,red] at (6,-1.2) {\texteuro 380};

\draw[->,red,thick] (9,0) -- (9,-1.2);
\node[below,red] at (9,-1.2) {\texteuro 380};

\end{tikzpicture}
\end{center}
```

**Cash flow table:**

| Time (quarters) | Cash Flow | Description |
|----------------|-----------|-------------|
| 0              | +€1,000   | Receive loan |
| 1              | -€380     | First payment |
| 2              | -€380     | Second payment |
| 3              | -€380     | Final payment |

Let's suppose that interest is described by **Decomposition 1**, where each payment breaks down as:

| Time | Principal | Interest | Total Payment |
|------|-----------|----------|---------------|
| 1    | €333.33   | €46.67   | €380 |
| 2    | €333.33   | €46.67   | €380 |
| 3    | €333.34   | €46.66   | €380 |

For the sake of brevity, let's measure time in **quarters**, starting from 31/12/2024. From this interest, we compute the following **period interest rates**:

$$
i_1 = 0.047; \quad i_2 = 0.070; \quad i_3 = 0.140
$$

We can now try to use these rates to build a composite operation of the same type we've used to introduce the value function.

### Building the Value Function: Step by Step

**At time 0:**

The investment consists of 1,000 € at time 0. Therefore:

$$
V(0) = 1,000
$$

**At time 1:**

Since the period interest rate is $i_1 = 0.047$, the period interest is 46.67 €. The borrower can decide to repay his entire debt, or to extend the payment term by another quarter, paying an additional interest.

If he chooses the second option, the composite transaction becomes:

$$
\{1,000, -1,046.67\} / \{0, 1\} \oplus \{1,046.67, -1,046.67 + I_2\} / \{1, 2\}
$$

Now, what is the interest pertaining to the second period? To preserve coherence with interest rate $i_2$, it must be:

$$
I_2 = 1,046.67 \times i_2 = 73.27
$$

Therefore, the composite transaction becomes:

$$
\{1,000, -1,046.67\} / \{0, 1\} \oplus \{1,046.67, -1,119.93\} / \{1, 2\}
$$

We now have the second point of the value function:

$$
V(0) = 1,000; \quad V(1) = 1,046.67
$$

**At time 2 and 3:**

We can repeat the same procedure: holding the period interest rates fixed and supposing to delay the principal payment until time 3, we find the remaining points of the value function:

$$
V(2) = 1,119.93; \quad V(3) = 1,276.72
$$

### The Graph: Decomposition 1

```{=latex}
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.3]
% Axes
\draw[->] (-0.5,0) -- (10,0) node[right] {Time ($t$)};
\draw[->] (0,0) -- (0,5) node[above] {Value (€)};

% Y-axis labels
\foreach \y/\label in {0/0, 2/1{,}000, 3/1{,}200, 4/1{,}400}
    \draw (-0.1,\y) -- (0.1,\y) node[left=3pt,font=\small] {\label};

% Time labels
\foreach \x/\label in {0/0, 3/1, 6/2, 9/3}
    \draw (\x,0.1) -- (\x,-0.1) node[below] {$\label$};

% Value function points (scaled: 1000->2, 1046.67->2.093, 1119.93->2.24, 1276.72->2.55)
\fill[red] (0,2) circle (3pt);
\fill[red] (3,2.093) circle (3pt);
\fill[red] (6,2.24) circle (3pt);
\fill[red] (9,2.553) circle (3pt);

% Lines connecting points
\draw[thick,red] (0,2) -- (3,2.093) -- (6,2.24) -- (9,2.553);

% Value labels
\node[above right,red,font=\small] at (0,2) {1{,}000};
\node[above right,red,font=\small] at (3,2.093) {1{,}046.67};
\node[above right,red,font=\small] at (6,2.24) {1{,}119.93};
\node[above right,red,font=\small] at (9,2.553) {1{,}276.72};

\end{tikzpicture}
\end{figure}
```

\FloatBarrier

### Comparing with Decomposition 2

What happens if we repeat the same procedure using interest from **Decomposition 2**?

$$
\{1000, -370-10, -370-10, -260-120\} / \{0, 1, 2, 3\}
$$

From this decomposition, we obtain different period interest rates:

$$
i_1 = 0.010; \quad i_2 = 0.016; \quad i_3 = 0.462
$$

Following the same procedure as before, we obtain:

$$
V(0) = 1,000; \quad V(1) = 1,010; \quad V(2) = 1,026.16; \quad V(3) = 1,500.25
$$

### Comparison Graph

```{=latex}
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.3]
% Axes
\draw[->] (-0.5,0) -- (10,0) node[right] {Time ($t$)};
\draw[->] (0,0) -- (0,5.5) node[above] {Value (€)};

% Y-axis labels
\foreach \y/\label in {0/0, 2/1{,}000, 3/1{,}200, 4/1{,}400, 5/1{,}600}
    \draw (-0.1,\y) -- (0.1,\y) node[left=3pt,font=\small] {\label};

% Time labels
\foreach \x/\label in {0/0, 3/1, 6/2, 9/3}
    \draw (\x,0.1) -- (\x,-0.1) node[below] {$\label$};

% Decomposition 1 (red)
\fill[red] (0,2) circle (3pt);
\fill[red] (3,2.093) circle (3pt);
\fill[red] (6,2.24) circle (3pt);
\fill[red] (9,2.553) circle (3pt);
\draw[thick,red] (0,2) -- (3,2.093) -- (6,2.24) -- (9,2.553);

% Decomposition 2 (blue) - V(3)=1500.25->3.0 on scale
\fill[blue] (0,2) circle (3pt);
\fill[blue] (3,2.02) circle (3pt);
\fill[blue] (6,2.052) circle (3pt);
\fill[blue] (9,3.0) circle (3pt);
\draw[thick,blue] (0,2) -- (3,2.02) -- (6,2.052) -- (9,3.0);

% Legend
\node[red,font=\small] at (7,4.5) {Decomposition 1};
\node[blue,font=\small] at (7,4) {Decomposition 2};

\end{tikzpicture}
\end{figure}
```

\FloatBarrier

::: {.callout-important icon="true"}
## Critical Conclusion

-   The **same cash flows**, with a different agreement on interest calculation, led to **two different value functions**.
-   To describe the value function associated with a transaction, the cash flow stream is not enough: the value function is linked to **period interest rates**.
-   Since the value function is expressed in monetary terms, its **initial value** is also required to fully describe it. In the previous example, starting from $V(0) = 500$, with the same period interest rates, would have produced two new value functions, whose values would have been exactly half of the starting ones.
:::

::: {.callout-tip icon="true"}
## Intuition: Why Do Identical Cash Flows Produce Different Value Functions?

This is **one of the most important insights** in financial mathematics! Let's understand why:

**The cash flow tells you WHAT happens, but not HOW value accumulates**

Think of two loans, both with payments of €380 per quarter:

**Loan A (Decomposition 1)**: "Balanced growth"

- Interest is distributed relatively evenly across periods
- Like a standard amortizing loan
- Value grows steadily: €1,000 → €1,047 → €1,120 → €1,277

**Loan B (Decomposition 2)**: "Balloon structure"

- Most interest is deferred to the final period
- Like a "balloon payment" loan where you pay interest upfront and principal later
- Value grows slowly at first, then jumps: €1,000 → €1,010 → €1,026 → €1,500

**Real-world analogy**:

Imagine two rental properties:

- Both collect €1,200/month in rent (same "cash flows")
- **Property A**: Rent increases steadily with inflation
- **Property B**: Rent is flat for years, then jumps massively in year 3

Even though the rent checks look the same today, the **properties have different values** because the growth patterns differ!

**The lesson**: Cash flows alone are like seeing the inputs and outputs of a black box. The value function reveals **what's happening inside the box**—how value is accumulating over time.

**What determines the value function?**

1. Initial capital: $V(0)$
2. The "growth engine": Period interest rates $i_1, i_2, i_3, \ldots$
3. NOT the cash flows themselves!

The cash flows are the **result** of the value function and the interest structure, not the **cause**.
:::

## Formal Definitions in Terms of the Value Function

We can now express some key quantities in a more formal way, in terms of the value function. These definitions might look mathematical, but each one has a clear financial interpretation that we'll explore with concrete examples.

### Interest

::: {.callout-note icon="true"}
## Definition: Interest

The **interest** earned between time $t$ and time $t + \tau$ is:

$$
I(t, t+\tau) = V(t+\tau) - V(t)
$$
:::

::: {.callout-tip icon="true"}
## Concrete Example: Interest

Suppose you invest in a bond with value function:

- $V(0) = 1,000$ (initial investment)
- $V(3) = 1,150$ (value after 3 years)

**What's the interest earned over these 3 years?**

$$
I(0, 3) = V(3) - V(0) = 1,150 - 1,000 = 150 \text{ euros}
$$

**Intuition**: Interest is simply **"how much more do I have?"**—the absolute gain in value. It's measured in currency units (euros, dollars, etc.), not percentages.

**Mid-period example**: If $V(1) = 1,050$ and $V(3) = 1,150$, then:

$$
I(1, 3) = 1,150 - 1,050 = 100 \text{ euros}
$$

This is the interest earned **from year 1 to year 3**, not from the beginning!
:::

### Interest Rate

::: {.callout-note icon="true"}
## Definition: Interest Rate

The **interest rate** for the period from time $t$ to time $t + \tau$ is:

$$
i(t, t+\tau) = \frac{V(t+\tau) - V(t)}{V(t)}
$$
:::

Let's see a concrete example.

::: {.callout-tip icon="true"}
## Concrete Example: Interest Rate

Using the same bond:

- $V(0) = 1,000$
- $V(3) = 1,150$

**What's the interest rate over these 3 years?**

$$
i(0, 3) = \frac{V(3) - V(0)}{V(0)} = \frac{1,150 - 1,000}{1,000} = \frac{150}{1,000} = 0.15 = 15\%
$$

**Intuition**: The interest rate asks **"what percentage did I earn?"** It's a **relative** measure—the gain divided by the initial amount.

**Why does this matter?**

- Interest (absolute): "I earned €150" ← depends on how much you started with
- Interest rate (relative): "I earned 15%" ← comparable across different investment sizes

**Mid-period example**: From year 1 to year 3:

$$
i(1, 3) = \frac{V(3) - V(1)}{V(1)} = \frac{1,150 - 1,050}{1,050} = \frac{100}{1,050} \approx 9.52\%
$$

Same €100 gain, but different rate because you started with more capital at year 1!
:::

### Accumulation Factor

::: {.callout-note icon="true"}
## Definition: Accumulation Factor

The **accumulation factor** from time $t$ to time $t + \tau$ is:

$$
m(t, t+\tau) = \frac{V(t+\tau)}{V(t)}
$$
:::

::: {.callout-tip icon="true"}
## Concrete Example: Accumulation Factor

Using the same bond:

- $V(0) = 1,000$
- $V(3) = 1,150$

**What's the accumulation factor from year 0 to year 3?**

$$
m(0, 3) = \frac{V(3)}{V(0)} = \frac{1,150}{1,000} = 1.15
$$

**Intuition**: The accumulation factor tells you **"how many times bigger did my money become?"**

- If $m = 1.15$, your money became 1.15 times its original size
- It's like a multiplier: $\text{Final Value} = \text{Initial Value} \times m$

**Connection to interest rate**:

$$
m(t, t+\tau) = 1 + i(t, t+\tau)
$$

In our example: $m = 1.15 = 1 + 0.15 = 1 + 15\%$

**Practical use**: Want to know what €5,000 grows to over the same period?

$$
\text{Final} = 5,000 \times 1.15 = 5,750 \text{ euros}
$$

No need to recalculate the rate—just multiply by the accumulation factor!

**Mid-period example**:

$$
m(1, 3) = \frac{V(3)}{V(1)} = \frac{1,150}{1,050} \approx 1.0952
$$

Money invested at year 1 grows by a factor of about 1.095 by year 3.
:::

### Graphical Interpretation

```{=latex}
\begin{figure}[h]
\centering
\begin{tikzpicture}[scale=1.4]
% Axes
\draw[->] (-0.5,0) -- (10,0) node[right] {time};
\draw[->] (0,0) -- (0,5) node[above] {$V$};

% Value function curve
\draw[thick,blue] (0,1) to[out=30,in=180] (3,2.5) to[out=0,in=180] (6,3.5) to[out=0,in=180] (9,4.2);

% Key points
\fill[red] (0,1) circle (2pt);
\fill[red] (3,2.5) circle (2pt);
\fill[red] (6,3.5) circle (2pt);

% Labels
\node[left] at (0,1) {$V(0)$};
\node[left] at (3,2.5) {$V(t)$};
\node[left] at (6,3.5) {$V(t+\tau)$};

% Time markers
\draw[dashed] (3,0) -- (3,2.5);
\draw[dashed] (6,0) -- (6,3.5);
\node[below] at (3,0) {$t$};
\node[below] at (6,0) {$t+\tau$};

% Interest bracket
\draw[<->,thick,red] (6.5,2.5) -- (6.5,3.5);
\node[right,red] at (6.5,3) {$V(t+\tau) - V(t)$};

% Tau bracket
\draw[<->,thick] (3,-0.5) -- (6,-0.5);
\node[below] at (4.5,-0.5) {$\tau$};

\end{tikzpicture}
\end{figure}
```

\FloatBarrier

## Example: Computing Interest Rates

Let's work through a complete example to see how all these definitions work in practice. Suppose that a transaction is summarized by the value function in this table:

**Value function timeline:**

```{=latex}
\begin{center}
\begin{tikzpicture}[scale=1.1]
% Timeline
\draw[->,thick] (-0.5,0) -- (11,0) node[right] {years};

% Time points and values
\draw[thick] (0,0.15) -- (0,-0.15) node[below] {$0$};
\fill[blue] (0,0) circle (2pt);
\node[above,blue] at (0,0.3) {\texteuro 100};

\draw[thick] (2,0.15) -- (2,-0.15) node[below] {$1$};
\fill[blue] (2,0) circle (2pt);
\node[above,blue] at (2,0.3) {\texteuro 101};

\draw[thick] (4,0.15) -- (4,-0.15) node[below] {$1.5$};
\fill[blue] (4,0) circle (2pt);
\node[above,blue] at (4,0.3) {\texteuro 105};

\draw[thick] (6,0.15) -- (6,-0.15) node[below] {$2$};
\fill[blue] (6,0) circle (2pt);
\node[above,blue] at (6,0.3) {\texteuro 110};

\draw[thick] (10,0.15) -- (10,-0.15) node[below] {$4$};
\fill[blue] (10,0) circle (2pt);
\node[above,blue] at (10,0.3) {\texteuro 111};

% Value function curve
\draw[thick,blue,dashed] (0,0) -- (2,0) -- (4,0) -- (6,0) -- (10,0);

\end{tikzpicture}
\end{center}
```

**Value function table:**

| $t$ (years) | $V(t)$ (€) |
|-------------|------------|
| 0           | 100        |
| 1           | 101        |
| 1.5         | 105        |
| 2           | 110        |
| 4           | 111        |

### Calculations

**Interest from time 0 to time 1:**

$$
I(0, 1) = V(1) - V(0) = 101 - 100 = 1
$$

**Interest rate from time 0 to time 1:**

$$
i(0, 1) = \frac{V(1) - V(0)}{V(0)} = \frac{1}{100} = 1\%
$$

**Interest from time 2 to time 4:**

$$
I(2, 4) = V(4) - V(2) = 111 - 110 = 1
$$

**Interest rate from time 2 to time 4:**

$$
i(2, 4) = \frac{V(4) - V(2)}{V(2)} = \frac{1}{110} = 0.909\%
$$

::: {.callout-tip icon="true"}
## Observation

Notice that the **same interest amount** (1 euro) corresponds to **different interest rates** depending on the initial capital. This is because the interest rate is a **relative** measure, while interest is an **absolute** measure.
:::

## Discount Rate and Discount Factor

Just as we can express interest in terms of the value function, we can also define discount-related quantities. While interest looks forward ("how much will I gain?"), discounting looks backward ("how much do I need today?"). Both perspectives are essential in finance.

### Discount

::: {.callout-note icon="true"}
## Definition: Discount

The **discount** between time $t$ and time $t + \tau$ is:

$$
D(t, t+\tau) = V(t+\tau) - V(t) = I(t, t+\tau)
$$
:::

::: {.callout-tip icon="true"}
## Intuition: Interest vs. Discount

Wait, isn't this the same formula as interest? Yes! **Numerically they're identical**, but conceptually they represent **different perspectives**:

- **Interest** (forward-looking): "If I invest today, how much will I **gain in the future**?"
- **Discount** (backward-looking): "If I need **money in the future, **how much must I invest today**? What's the **discount** from the **future value**?"

**Concrete example**:

You need €1,150 in 3 years. The value function tells you:

- $V(0) = 1,000$ (invest this today)
- $V(3) = 1,150$ (get this in the future)

**From the interest perspective** (looking forward):

- "I invest €1,000 and gain €150 over 3 years"
- $I(0,3) = 150$

**From the discount perspective** (looking backward):

- "The future €1,150 is worth €1,000 today"
- "I get a discount of €150 from the future value"
- $D(0,3) = 150$

Same number, different mental frame!
:::

### Discount Rate

::: {.callout-note icon="true"}
## Definition: Discount Rate

The **discount rate** for the period from time $t$ to time $t + \tau$ is:

$$
d(t, t+\tau) = \frac{V(t+\tau) - V(t)}{V(t+\tau)}
$$
:::

::: {.callout-tip icon="true"}
## Concrete Example: Discount Rate

Using our bond example:

- $V(0) = 1,000$
- $V(3) = 1,150$

**What's the discount rate from year 0 to year 3?**

$$
d(0, 3) = \frac{V(3) - V(0)}{V(3)} = \frac{1,150 - 1,000}{1,150} = \frac{150}{1,150} \approx 0.1304 = 13.04\%
$$

**Compare with interest rate**:

- Interest rate: $i(0,3) = 15\%$ (gain relative to **initial** value)
- Discount rate: $d(0,3) = 13.04\%$ (reduction relative to **final** value)

**Intuition**: The discount rate answers: **"What percentage of the future value do I NOT need to pay today?"**

- Future value: €1,150
- Present value: €1,000
- Discount: €150 is 13.04% of €1,150

**Real-world use**: This is common in bond pricing! A bond with face value €1,150 trades at a **discount** of 13.04%, meaning you pay only €1,000 today.

**Why is the discount rate smaller than the interest rate?**

Because we're dividing by a **larger number** (final value vs. initial value). The same €150 gain is:

- 15% of €1,000 (interest rate)
- 13.04% of €1,150 (discount rate)
:::

### Discount Factor

::: {.callout-note icon="true"}
## Definition: Discount Factor

The **discount factor** from time $t$ to time $t + \tau$ is:

$$
v(t, t+\tau) = \frac{V(t)}{V(t+\tau)}
$$
:::

::: {.callout-tip icon="true"}
## Concrete Example: Discount Factor

Using our bond:

- $V(0) = 1,000$
- $V(3) = 1,150$

**What's the discount factor from year 0 to year 3?**

$$
v(0, 3) = \frac{V(0)}{V(3)} = \frac{1,000}{1,150} \approx 0.8696
$$

**Intuition**: The discount factor tells you **"what fraction of the future value is the present value?"**

- €1 received in 3 years is worth about €0.87 today
- It's a **"present value multiplier"**

**Practical use**: Want to find today's value of €5,000 received in 3 years?

$$
\text{Present Value} = 5,000 \times 0.8696 \approx 4,348 \text{ euros}
$$

**Connection to accumulation factor**:

$$
v(t, t+\tau) = \frac{1}{m(t, t+\tau)}
$$

In our example:

- Accumulation factor: $m = 1.15$ (multiply to go forward in time)
- Discount factor: $v = 1/1.15 \approx 0.8696$ (multiply to go backward in time)

They're **reciprocals**—one undoes the other!

**Memory aid**:

- **Accumulation** = Moving forward = Multiplying by $m > 1$ = Money grows
- **Discount** = Moving backward = Multiplying by $v < 1$ = Money shrinks
:::

::: {.callout-tip icon="true"}
## Key Relationships: The Big Picture

Let's tie everything together with our bond example ($V(0) = 1,000$, $V(3) = 1,150$):

| Concept | Formula | Value | What it means |
|---------|---------|-------|---------------|
| **Interest** | $I = V(3) - V(0)$ | €150 | Absolute gain |
| **Interest rate** | $i = \frac{V(3)-V(0)}{V(0)}$ | 15% | % gain relative to start |
| **Accumulation factor** | $m = \frac{V(3)}{V(0)}$ | 1.15 | Growth multiplier (forward) |
| **Discount** | $D = V(3) - V(0)$ | €150 | Absolute reduction from future |
| **Discount rate** | $d = \frac{V(3)-V(0)}{V(3)}$ | 13.04% | % reduction from future value |
| **Discount factor** | $v = \frac{V(0)}{V(3)}$ | 0.8696 | Shrinkage multiplier (backward) |

**Key relationships**:

-   $m = 1 + i$ (accumulation factor = 1 + interest rate)
-   $v = \frac{1}{m}$ (discount and accumulation factors are reciprocals)
-   $v = 1 - d$ (discount factor = 1 - discount rate)
-   Interest and discount are numerically equal: $I = D$
-   But rates differ: $i \neq d$ (different denominators!)

**The fundamental insight**:

- **Accumulation** (forward-looking): Start with €1,000 → multiply by $m=1.15$ → end with €1,150
- **Discounting** (backward-looking): Need €1,150 later → multiply by $v=0.8696$ → invest €1,000 today

They're two sides of the same coin, connected through the value function!
:::

## Summary

::: {.callout-important icon="true"}
## Key Takeaways

1. **The value function $V(t)$ is your financial "GPS"**
   
   - It tracks the monetary worth of a financial contract at any time $t$
   - NOT the same as cash flows—it's the economic value of your position
   - Example: Lending €1,000 today creates a value function tracking €1,000 → €1,050 even before you receive payment

2. **What determines a value function?**
   
   - Initial capital: $V(0)$ 
   - Period interest rates: $i_1, i_2, i_3, \ldots$
   - **NOT just the cash flows!** Same payments can mean different values

3. **Two fundamental properties**
   
   - **Positive**: $V(t) > 0$ (we're tracking assets, not liabilities)
   - **Strictly increasing**: $V(t_1) < V(t_2)$ if $t_1 < t_2$ (time value of money!)

4. **Six key quantities, all derived from $V(t)$**
   
   - **Interest** $I$: Absolute gain (e.g., €150)
   - **Interest rate** $i$: Relative gain vs. start (e.g., 15%)
   - **Accumulation factor** $m$: Growth multiplier (e.g., 1.15)
   - **Discount** $D$: Same as interest, backward perspective
   - **Discount rate** $d$: Relative gain vs. end (e.g., 13.04%)
   - **Discount factor** $v$: Shrinkage multiplier (e.g., 0.87)

5. **The power of the value function framework**
   
   - Reveals **how** value accumulates over time, not just snapshots
   - Explains why identical cash flows can have different values
   - Unifies forward-looking (accumulation) and backward-looking (discounting) perspectives
   - Foundation for all time-value-of-money calculations

6. **Key relationships to remember**
   
   - $m = 1 + i$ (accumulation factor = 1 + interest rate)
   - $v = \frac{1}{m}$ (accumulation and discount factors are reciprocals)
   - $v = 1 - d$ (discount factor = 1 - discount rate)
   - Going forward in time: multiply by $m$
   - Going backward in time: multiply by $v$
:::

::: {.callout-tip icon="true"}
## Practical Wisdom

**When analyzing a financial contract, always ask:**

1. What's the initial value $V(0)$?
2. What are the period interest rates?
3. How does value evolve over time?

Don't just look at the payment schedule—understand the **underlying value function** that drives those payments!

**Real-world applications:**

- Comparing loan offers with different interest structures
- Valuing bonds trading at a discount or premium
- Understanding mortgage refinancing decisions
- Evaluating investment opportunities with complex payment patterns
:::